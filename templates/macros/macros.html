{% macro postcard(post, id) %}
<div class="card">
  <div class="card-header">
    <div class="card-subtitle h-100">
      <h3 class="text-center">{{ post.date | date(format="%b %d") }}</h3>
      <h3 class="text-center">{{ post.date | date(format="%Y") }}</h3>
    </div>
    <div class="card-title h-100 align-middle">
      <a href="{{ post.path }}">
        <h3>{{ post.title }}</h3>
      </a>
    </div>  
  </div>
  <div class="card-body">
{# TODO {% if post.template == "post" %}
    <div class="card-text">
{{ post.content | striptags | truncate(length=400) }}
    </div>
    <a href="{{ post.path }}" class="card-link btn btn-primary">Read More</a>
{% else %}
    <div class="card-text">
{{ macros::gallery(id=id, images=post.images) }}
    </div>
    <a href="{{ post.url }}" class="card-link btn btn-primary">Leave A Comment</a>
{% endif %} #}
  </div>
{# TODO tags {% if post.tags.size > 0 %}  
  <div class="card-footer">
    tags: {{ post.tags | join(sep=' | ') }}
  </div>
{% endif %} #}
</div>
{% endmacro postcard %}

{% macro gallery(images, id="") %}

{% if images.size == 1 %}
    {% for im in site.art %}
    {% if images[0] == im.name %}
    {% set image = im %}
    {% endif %}
    {% endfor %}
    <img class="gallery" src="{{ image.image }}" alt="{{ images[0].alt }}"/>
{% elif images.size >= 9 %}
    {% set number = 1 %}
    <div class="gallery-{{ include.id }} make-gallery-grid-3">
    {% for image in site.art %}
    {% if images is containing(image.name) %}
        <div class="item-{{ number }} thumb">
            <a href="{{ image.image }}">
                <img src="{{ image.thumbnail }}" alt="{{ image.alt }}"/>
            </a>
        </div>
    {% set number = number + 1 %}
    {% endif %}
    {% endfor %}
    </div>
    <script>
    baguetteBox.run('.gallery-{{ include.id }}');
    </script>
{% elif images.size >= 4 %}
    {% set number = 1 %}
    <div class="gallery-{{ include.id }} make-gallery-grid-2">
    {% for image in site.art %}
    {% if images is containing(image.name) %}
        <div class="item-{{ number }} thumb">
            <a href="{{ image.image }}" >
                <img src="{{ image.thumbnail }}" alt="{{ image.alt }}"/>
            </a>
        </div>
    {% set number = number + 1 %}
    {% endif %}
    {% endfor %}
    </div>
    <script>
    baguetteBox.run('.gallery-{{ include.id }}');
    </script>
{% else %}
    {% set number = 1 %}
    <div class="gallery-{{ include.id }} make-gallery-grid-1">
    {% for image in site.art %}
    {% if images is containing(image.name) %}
        <div class="item-{{ number }} thumb">
            <a href="{{ image.image }}" >
                <img src="{{ image.thumbnail }}" alt="{{ image.alt }}"/>
            </a>
        </div>
    {% set number = number + 1 %}
    {% endif %}
    {% endfor %}
    </div>
    <script>
    baguetteBox.run('.gallery-{{ include.id }}');
</script>
{% endif %}
{% endmacro %}
